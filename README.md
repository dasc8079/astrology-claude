# Astrology Application - Traditional & Hellenistic Chart Analysis

A comprehensive astrology application for generating natal horoscopes, life arc reports, and transit analysis using traditional and Hellenistic methods.

---

## Overview

This project creates AI-assisted astrological analysis tools grounded in traditional and Hellenistic astrology, with live astronomical calculations via Swiss Ephemeris and interpretations from a curated RAG database of authoritative reference texts.

### Core Features

**✅ Mode 1: Natal Horoscope** (Complete)
- Multi-profile system with isolated user data
- Automated horoscope generation (markdown + PDF)
- Traditional Hellenistic analysis with whole-sign houses
- Sect-aware dignity assessment
- Narrative synthesis in plain language

**✅ Mode 2: Life Arc Report** (Complete - Enhanced)
- Timeline of major life chapters and turning points (ages 0-100)
- 5 core timing techniques: Profections, ZR Fortune/Spirit L1, Firdaria, planetary returns, progressed Sun
- Convergence detection system (MAJOR 25+, SIGNIFICANT 15-24, NOTABLE 8-14 points)
- Narrative chapter structure with ZR L1 periods as chapters
- RAG-integrated interpretation with traditional grounding

**⏳ Mode 3: Transit Report** (Planned)
- Current and upcoming transit analysis
- Profection-filtered transit priority
- Exact timing of significant transits

**⏳ Mode 4: Additional Timing** (Planned)
- Annual profections, secondary progressions
- Solar/lunar returns, zodiacal releasing
- Predictive technique integration

---

## Quick Start

### Installation

```bash
# Navigate to project directory
cd "/Users/darrenschaeffer/Documents/Claude/Astrogy_Claude"

# Activate virtual environment
source venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Set up environment
cp .env.example .env
# Add your OpenAI API key to .env
```

### Create Your First Horoscope

```bash
# Create a new profile
python scripts/create_profile.py --name "your_name" \
    --date "1/15/1985" \
    --time "3:30 PM" \
    --location "New York, NY" \
    --lat 40.7128 \
    --lon -74.0060 \
    --timezone "EST"

# Generate natal seed data
python scripts/natal_interpreter.py --profile your_name

# Generate synthesis (automated via agent)
# Request: "Create a natal horoscope for your_name"
```

**Output**: Markdown and PDF synthesis in `/profiles/your_name/output/`

---

## Documentation

### Start Here

- **CURRENT_WORK.md** - Current focus and active work (read this first!)
- **REFERENCE.md** - Static astrology knowledge (house systems, dignities, aspects)
- **DEVELOPMENT.md** - Contributor guide and development workflow
- **session_goals.md** - North Star vision and strategic direction (`/docs/`)

### Design Documents

- `/docs/life_arc_report_design.md` - Life arc system (105-page comprehensive design)
- `/docs/seed_data_schema.yaml` - Complete seed data structure
- `/docs/timing_techniques_plan.md` - Traditional timing methods research

### Archived Work

- `/history/` - Completed stages with lessons learned
  - Stage -1: RAG Database Enhancement
  - Stage 0: Research Timing Techniques
  - Stage 1: Natal Horoscope System

---

## Architecture

### Hybrid Data System

**Structured Seed Data** (YAML):
- Precise astronomical calculations
- Planetary positions, aspects, dignities, sect
- Deterministic chart facts
- Generated by `seed_data_generator.py`

**RAG Database** (JSONL):
- Traditional interpretations from 6 authoritative books
- 2,472 semantic chunks with embeddings
- Delineations grounded in Hellenistic sources
- Queried via `query_rag_database.py`

**Synthesis Agents**:
- Combine seed data + RAG interpretations
- Generate narrative horoscopes
- Plain language output (no jargon)

### Astrological Systems

**Traditional Foundation**:
- Whole-sign houses (each house = 30° zodiacal sign)
- Traditional seven planets (Sun through Saturn) as primary
- Hellenistic dignities (domicile, exaltation, triplicity, bounds, decans)
- Sect (day/night chart) analysis
- Classical aspects only (conjunction, sextile, square, trine, opposition)

**Modern Additions** (Secondary context only):
- Uranus, Neptune, Pluto (supplementary interpretation)
- Chiron, Lilith (toggleable)
- Psychological depth (Jungian analysis)

**No Modern Rulerships**: Traditional rulerships only (e.g., Mars rules Scorpio, NOT Pluto)

---

## Project Structure

```
/profiles/              # User profiles and outputs
  └── [name]/
      ├── profile.md           # Birth data + settings
      ├── seed_data/           # Generated seed data (YAML)
      └── output/              # Final outputs (PDF, markdown)

/scripts/               # Python calculation scripts
  ├── astrology_reference.py  # Static reference data
  ├── ephemeris_helper.py     # Swiss Ephemeris wrapper
  ├── seed_data_generator.py  # Unified seed generator
  ├── natal_interpreter.py    # Natal seed data
  └── create_profile.py       # Profile creation

/docs/                  # Design documents
  ├── session_goals.md        # North Star vision
  ├── life_arc_report_design.md
  └── seed_data_schema.yaml

/history/               # Archived completed stages

/output/database/       # RAG database
  └── astrology_rag_database.jsonl

/Referendces/           # Source PDFs (6 books)
```

---

## Reference Sources

All interpretations grounded in traditional and Hellenistic sources:

1. **Hellenistic Astrology: The Study of Fate and Fortune** (Chris Brennan) - PRIMARY
2. **Astrology and the Authentic Self** (Demetra George)
3. **Planets in Transit** (Robert Hand)
4. **Predictive Astrology: The Eagle and the Lark** (Bernadette Brady)
5. **Delineation of Progressions** (Sophia Mason)
6. **The Horoscope in Manifestation** (Liz Greene)

All sources cataloged in RAG database with full attribution and page citations.

---

## Key Technologies

- **Swiss Ephemeris** (pyswisseph) - Astronomical calculations
- **PyYAML** - Structured data output
- **OpenAI API** - RAG database embeddings and semantic search
- **Python 3.8+** - Core application
- **Claude Code agents** - Interpretation synthesis

---

## Current Status

**Active Work**: Mode 2 Complete - Ready for Mode 3

**Recently Completed** (2025-10-07):
- Mode 2 Life Arc Report Generator fully enhanced
- Convergence detection system implemented
- 5 core timing techniques integrated
- Narrative chapter structure with ages 0-100
- Firdaria calculator built
- 10 lots integrated into timeline
- Full testing complete with darren profile

**See CURRENT_WORK.md** for detailed status and next steps.

---

## Examples

**Natal Horoscope Outputs**:
- `/profiles/darren/output/natal_horoscope_synthesis.pdf` (with technical sections)
- `/profiles/mom/output/natal_horoscope_synthesis.pdf` (synthesis only)
- `/profiles/sister/output/natal_horoscope_synthesis.pdf` (synthesis only)

**Life Arc Interpretation Outputs**:
- `/profiles/darren/output/life_arc_interpretation_darren_ages_0-100.md` (comprehensive narrative with convergence detection)
- `/profiles/darren/output/life_arc_interpretation_darren_ages_0-100.pdf` (157.9 KB professional PDF)

**Profile Settings**:
- Adjustable depth (minimal, standard, deep, comprehensive)
- Toggleable house rulers analysis
- Configurable lots (basic, extended, full)
- Technical sections on/off

---

## Contributing

See **DEVELOPMENT.md** for:
- Development workflow
- Testing procedures
- Agent coordination
- Code style guidelines
- Quality control checklist

### Key Principles

1. **Traditional foundation protected** - Modern methods clearly labeled, always secondary
2. **Ground interpretations in sources** - Cite book, author, page number
3. **Narrative synthesis preferred** - Flowing prose, not bullet points
4. **House rulers critical** - Integrate naturally throughout
5. **Agent approval required** - Synthesis agents need user approval before modification

---

## License

*License information to be added*

---

## Contact

**Project Owner**: Darren Schaeffer
**Purpose**: Traditional/Hellenistic astrology analysis tools
**Status**: Active development

---

*For current work, see CURRENT_WORK.md*
*For astrology reference, see REFERENCE.md*
*For development guide, see DEVELOPMENT.md*
