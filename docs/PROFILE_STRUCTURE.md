# Profile Structure Standard

**Version**: 1.0
**Last Updated**: October 12, 2025
**Status**: Production Standard

---

## Overview

All user profiles in this astrology project follow a standardized directory structure to ensure consistency across natal horoscopes, life arc reports, and transit analyses.

---

## Standard Profile Structure

```
profiles/
├── FirstName_LastInitial/      # Capitalized, underscore separator
│   ├── profile.md              # Birth data + interpretation settings
│   ├── seed_data/              # Astronomical calculations
│   │   └── seed_data.json      # Complete chart data (generated)
│   └── output/                 # ALL generated reports
│       ├── natal_process_FirstName_LastInitial_YYYY-MM-DD.md
│       ├── natal_synthesis_FirstName_LastInitial_YYYY-MM-DD.md
│       ├── natal_synthesis_FirstName_LastInitial_YYYY-MM-DD.pdf
│       ├── life_arc_process_FirstName_LastInitial_ages_0-100.md
│       ├── life_arc_synthesis_FirstName_LastInitial_ages_0-100.md
│       ├── life_arc_synthesis_FirstName_LastInitial_ages_0-100.pdf
│       ├── transit_process_FirstName_LastInitial_short_YYYY-MM-DD_to_YYYY-MM-DD.md
│       ├── transit_synthesis_FirstName_LastInitial_short_YYYY-MM-DD_to_YYYY-MM-DD.md
│       └── transit_synthesis_FirstName_LastInitial_short_YYYY-MM-DD_to_YYYY-MM-DD.pdf
```

---

## Naming Conventions

### Profile Folder Name
- **Format**: `FirstName_LastInitial`
- **Rules**:
  - First name fully capitalized (e.g., `Darren`)
  - Last initial capitalized (e.g., `S`)
  - Underscore separator (`_`)
  - No spaces, no special characters

**Examples**:
- ✅ `Darren_S`
- ✅ `Sam_P`
- ✅ `Elizabeth_M`
- ❌ `darren` (not capitalized)
- ❌ `Darren S` (space instead of underscore)
- ❌ `Darren` (missing last initial)

### Output File Names
- **Process files**: `{type}_process_{FirstName_LastInitial}_{date_or_range}.md`
- **Synthesis files**: `{type}_synthesis_{FirstName_LastInitial}_{date_or_range}.md`
- **PDF files**: `{type}_synthesis_{FirstName_LastInitial}_{date_or_range}.pdf`

Where `{type}` is: `natal`, `life_arc`, `transit`

---

## profile.md Structure

### Required Sections

#### 1. Header
```markdown
# Profile: [First Name] [Last Initial]
```

#### 2. Birth Data
```markdown
## Birth Data
- **Name**: [First Name] [Last Initial]
- **Date**: [Month/Day/Year]
- **Time**: [HH:MM AM/PM]
- **Location**: [City, State/Country]
- **Coordinates**: [Latitude]°N/S, [Longitude]°E/W
```

**Purpose**: Human-readable reference for birth data. Minimal and clear.

#### 3. Interpretation Settings
```markdown
## Interpretation Settings

Configure what analysis modules and output styles to include in your natal interpretation.

[Settings block in INI format]
```

**Purpose**: Controls which techniques and modules are included in interpretations (house rulers, lots, Chiron, Lilith, etc.)

#### 4. Footer Note
```markdown
---

**Note**: Complete astronomical calculations are stored in `/seed_data/seed_data.json`. This profile.md contains only essential birth data and interpretation preferences.
```

---

## seed_data/ Directory

### seed_data.json (or .yaml)
- **Generated by**: `scripts/seed_data_generator.py`
- **Contents**: Complete astronomical calculations
  - Planetary positions (longitude, latitude, speed)
  - House cusps (whole-sign + other systems)
  - Aspects (classical only: 0°, 60°, 90°, 120°, 180°)
  - Essential dignities (domicile, exaltation, triplicity, bounds, decans)
  - Lots (Fortune, Spirit, Eros, etc.)
  - Lunar nodes
  - Modern points (if enabled: Lilith, Chiron)

**Purpose**: Source of truth for all astronomical data. Used by interpretation agents.

---

## output/ Directory

### Purpose
All generated reports are saved here, organized by type and date.

### File Types

#### Process Files (`*_process_*.md`)
- **Audience**: Astrologers
- **Content**: Technical astrological analysis
- **Jargon**: Full astrological terminology
- **Sections**: Chart framework, dignities, aspects, house rulers, lots, timing techniques
- **Citations**: Traditional sources referenced

#### Synthesis Files (`*_synthesis_*.md` + `.pdf`)
- **Audience**: General public / clients
- **Content**: Accessible psychological narrative
- **Jargon**: NONE - all technical terms translated
- **Voice**: Second-person, flowing prose, therapeutic
- **Format**: Markdown + professional PDF

### Naming Examples

**Natal Reports**:
- `natal_process_Darren_S_2025-10-12.md`
- `natal_synthesis_Darren_S_2025-10-12.md`
- `natal_synthesis_Darren_S_2025-10-12.pdf`

**Life Arc Reports**:
- `life_arc_process_Darren_S_ages_0-100.md`
- `life_arc_synthesis_Darren_S_ages_0-100.md`
- `life_arc_synthesis_Darren_S_ages_0-100.pdf`

**Transit Reports**:
- `transit_process_Darren_S_short_2025-10-11_to_2026-02-11.md`
- `transit_synthesis_Darren_S_short_2025-10-11_to_2026-02-11.md`
- `transit_synthesis_Darren_S_short_2025-10-11_to_2026-02-11.pdf`

---

## Interpretation Settings Reference

### Implemented Toggleable Settings (v1.1+)

**IMPORTANT**: As of October 2025, the following settings are FUNCTIONAL and control what gets calculated and interpreted:

#### Chiron (Functional - v1.1)
```ini
include_chiron: true  // Wounded healer archetype
```

- **If `true`**: Chiron position is calculated in seed data AND interpreted in synthesis
- **If `false`**: Chiron is NOT calculated AND NOT interpreted
- **Applies to**: Natal interpreter agents, seed data generator
- **Implementation**: Agents read setting in Step 3.5, seed data generator reads from profile.md
- **Status**: ✅ Fully functional

### Traditional Techniques (Not Yet Toggleable)

**Note**: The following settings are DOCUMENTATION ONLY and do not yet control agent behavior:

- `include_house_rulers`: Shows HOW each life area manifests (PRIMARY)
- `include_lots`: Fortune, Spirit, Eros, Necessity, etc.
- `include_nodes`: Evolutionary path (South Node release, North Node development)
- `include_receptions`: Mutual reception analysis
- `include_bonification`: Benefic support of malefics

**These techniques are always included in interpretation** regardless of settings. Future versions may make them toggleable.

### Modern Methods (Partially Toggleable)

- `include_lilith`: Black Moon Lilith (shadow feminine) - **Not yet functional**
- `include_chiron`: Wounded healer archetype - **✅ Functional as of v1.1**
- `include_psychological`: Jungian depth psychology - **Always enabled** (this is the default output style)

**Note**: Modern methods are NOT part of traditional Hellenistic astrology. They add psychological context but are not required for core interpretation.

### Timing Techniques (For Life Arc Reports)
- `include_firdaria`: 75-year planetary period cycle
- `include_progressions`: Secondary progressions (inner development)
- `include_solar_returns`: Annual solar return charts

---

## Creating a New Profile

### Step 1: Create Folder Structure
```bash
mkdir -p profiles/FirstName_LastInitial/seed_data
mkdir -p profiles/FirstName_LastInitial/output
```

### Step 2: Create profile.md
Copy template from `Darren_S/profile.md` or use structure above.

Edit:
- Name
- Birth date, time, location, coordinates
- Interpretation settings (if different from defaults)

### Step 3: Generate Seed Data
```bash
python scripts/seed_data_generator.py --profile FirstName_LastInitial
```

This creates `seed_data/seed_data.json` with complete astronomical calculations.

### Step 4: Generate Reports
Use mode-orchestrator or individual agents:

**Natal Horoscope**:
```
@mode-orchestrator Generate natal horoscope for FirstName_LastInitial
```

**Life Arc**:
```
@mode-orchestrator Generate life arc for FirstName_LastInitial (ages 0-100)
```

**Transits**:
```
@mode-orchestrator Generate transit report for FirstName_LastInitial (Oct 2025 - Feb 2026)
```

---

## Migration Guide

### Migrating Old Profiles

If you have profiles that don't follow this structure:

1. **Create new folder**: `profiles/FirstName_LastInitial/`
2. **Create subdirectories**: `seed_data/` and `output/`
3. **Create profile.md**: Use template above
4. **Move seed data**: Copy to `seed_data/seed_data.json`
5. **Move reports**: Copy to `output/` and rename following conventions
6. **Delete old folder**: After verifying migration

### Example Migration

**Before**:
```
profiles/darren/
├── profile.md (with all data embedded)
├── natal_horoscope_synthesis.pdf
└── seed_data.json
```

**After**:
```
profiles/Darren_S/
├── profile.md (clean, settings-focused)
├── seed_data/
│   └── seed_data.json
└── output/
    ├── natal_process_Darren_S_2025-10-12.md
    ├── natal_synthesis_Darren_S_2025-10-12.md
    └── natal_synthesis_Darren_S_2025-10-12.pdf
```

---

## Validation Checklist

Before generating reports, verify:

- [ ] Profile folder name follows `FirstName_LastInitial` format
- [ ] Profile folder name is capitalized
- [ ] `profile.md` exists with all required sections
- [ ] `seed_data/` directory exists
- [ ] `seed_data/seed_data.json` exists and is valid
- [ ] `output/` directory exists
- [ ] Interpretation settings in profile.md are configured

---

## Common Issues

### Issue: "Profile not found"
- Check folder name matches `FirstName_LastInitial` format
- Ensure capitalization is correct
- Verify folder is in `profiles/` directory

### Issue: "Seed data missing"
- Run `python scripts/seed_data_generator.py --profile FirstName_LastInitial`
- Verify `seed_data/seed_data.json` was created

### Issue: Reports saved in wrong location
- Check that `output/` folder exists
- Verify mode-orchestrator is using correct profile name
- Check file naming follows conventions

### Issue: Old profile structure
- Follow migration guide above
- Create new folder with proper structure
- Move files following naming conventions

---

## Related Documentation

- [DEVELOPMENT.md](../DEVELOPMENT.md) - Development workflow and setup
- [REFERENCE.md](../REFERENCE.md) - Astrological systems reference
- [OUTPUT_STYLE_GUIDE.md](../docs/OUTPUT_STYLE_GUIDE.md) - Report format standards
- [DATA_FORMATS.md](../docs/DATA_FORMATS.md) - Data schema specifications

---

**Maintained by**: docs-updater-astrology agent
**Questions**: See TROUBLESHOOTING.md or contact project owner
